(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-restaurant-desktop"],{"3bd6":function(t,e,n){"use strict";n.r(e);var a=n("fa29"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},"4eb1":function(t,e,n){"use strict";n.r(e);var a=n("89c2"),i=n("3bd6");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);var o,u=n("f0c5"),r=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"fba04a26",null,!1,a["a"],o);e["default"]=r.exports},"89c2":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view")},s=[]},fa29:function(t,e,n){"use strict";var a=n("4ea4");n("99af"),n("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var i=a(n("1da1")),s={data:function(){return{popupShow:!1,active:0,page:1,pageSize:50,name:"",showPopInput:!1,showPopInputIndex:-1,showPopInputValue:"",status:"0",paixu:0,shopIndex:0}},onLoad:function(){this.shopList()},onShow:function(){uni.setNavigationBarTitle({title:"餐桌管理"})},methods:{onSearch:function(t){this.page=1,this.name=t.detail,this.fetchDatePageList()},onPullDownRefresh:function(){this.page=1,this.shopList(),uni.stopPullDownRefresh()},onReachBottom:function(){this.page=this.page+1,this.fetchDatePageList(!0)},shopList:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.shopList({pageSize:1e3});case 2:n=e.sent,0==n.code&&(t.shopList=n.data.result),t.fetchDatePageList();case 5:case"end":return e.stop()}}),e)})))()},fetchDatePageList:function(t){var e=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={page:e.page,pageSize:e.pageSize,type:e.type?e.type:"",shopId:e.shopList?e.shopList[e.shopIndex].id:""},n.next=3,e.$api.cyTableList(a);case 3:if(i=n.sent,0==i.code){n.next=8;break}return uni.showToast({title:e.$t("common.nodata"),icon:"none"}),t||(e.fetchDatePageList=null),n.abrupt("return");case 8:e.fetchDatePageList=t?e.fetchDatePageList.concat(i.data.result):i.data.result;case 9:case"end":return n.stop()}}),n)})))()},goEdit:function(t){var e=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a=t.currentTarget.dataset.idx,i=e.fetchDatePageList[a],e.id=i.id,e.type=i.type,e.code=i.code,e.name=i.name,e.status=i.status+"",e.paixu=i.paixu,e.popupShow=!0;case 7:case"end":return n.stop()}}),n)})))()},goAdd:function(){this.id="",this.code="",this.name="",this.status="0",this.popupShow=!0},popupClose:function(){this.popupShow=!1},productdelete:function(t){var e=this;uni.showModal({title:this.$t("common.confirm.title"),content:"确定要删除该餐桌吗？",success:function(n){n.confirm&&e._productdelete(t)}})},_productdelete:function(t){var e=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a,i,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.currentTarget.dataset.idx,i=e.fetchDatePageList[a],n.next=4,e.$api.cyTableDelete(i.id);case 4:s=n.sent,0!=s.code?uni.showToast({title:s.msg,icon:"none"}):(uni.showToast({title:e.$t("common.deleted")}),o=e.fetchDatePageList,o.splice(a,1),e.fetchDatePageList=o);case 6:case"end":return n.stop()}}),n)})))()},submit:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.submitButtonLoading=!0,t.code){e.next=5;break}return uni.showToast({title:"请输入餐桌编码",icon:"none"}),t.submitButtonLoading=!1,e.abrupt("return");case 5:if(t.name){e.next=9;break}return uni.showToast({title:"请输入餐桌名称",icon:"none"}),t.submitButtonLoading=!1,e.abrupt("return");case 9:return uni.showLoading({title:""}),e.next=12,t.$api.cyTableSave({shopId:t.shopList?t.shopList[t.shopIndex].id:"",type:t.type?t.type:"",code:t.code,name:t.name,paixu:t.paixu,status:t.status,id:t.id?t.id:""});case 12:n=e.sent,uni.hideLoading({success:function(t){}}),t.submitButtonLoading=!1,0!=n.code?uni.showToast({title:n.msg,icon:"none"}):(uni.showToast({title:t.$t("common.success")}),t.popupClose(),t.fetchDatePageList());case 16:case"end":return e.stop()}}),e)})))()},shoppopupShow:function(){this.shoppopupShow=!0},shoppopupClose:function(){this.shoppopupShow=!1},shopConfirm:function(t){this.page=1,this.shopIndex=t.detail.index,this.shoppopupClose(),this.fetchDatePageList()},statusChange:function(t){this.status=t.detail},statusClick:function(t){var e=t.currentTarget.dataset.name;this.status=e}}};e.default=s}}]);